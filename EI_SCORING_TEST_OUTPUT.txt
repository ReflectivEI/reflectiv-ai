/Users/anthonyabdelmalak/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    EI SCORING INTEGRATION TEST SUITE                       â•‘
â•‘                         PHASE 2 FIX VALIDATION                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Testing against: https://my-chat-agent-v2.tonyabdelmalak.workers.dev
Date: 2025-11-12T23:07:21.456626

VALIDATION CRITERIA:
âœ“ All 10 canonical metrics present in response
âœ“ Correct path: coach.scores (NOT coach.ei.scores)
âœ“ No invalid metrics (e.g., "accuracy")
âœ“ Rationales provided for metrics
âœ“ Response time < 10 seconds


ğŸ§ª RUNNING TEST SET 1 (Sales Coach)

================================================================================
TEST 1: Sales Coach - HIV PrEP discussion
================================================================================

ğŸ“¤ REQUEST:
Mode: sales-coach
Message: I understand your concerns about patient adherence. Based on the DISCOVER trial data, Descovy for Pr...

ğŸ“¥ RESPONSE (1746ms):
Reply length: 1124 chars

ğŸ” COACH OBJECT STRUCTURE:
âœ… coach object exists
âœ… No incorrect .ei nesting
âœ… .scores object exists at correct path

ğŸ“Š SCORES VALIDATION:
âœ… empathy: 4/5
âœ… clarity: 5/5
âœ… compliance: 5/5
âœ… discovery: 4/5
âœ… objection_handling: 3/5
âœ… confidence: 4/5
âœ… active_listening: 4/5
âœ… adaptability: 4/5
âœ… action_insight: 4/5
âœ… resilience: 4/5

ğŸ“ RATIONALES:
âœ… empathy: "The rep approach acknowledges the HCP's uncertainty and prov..."
âœ… clarity: "The rep approach clearly outlines the indications and safety..."
âœ… compliance: "The rep approach adheres to FDA label recommendations and gu..."
âœ… discovery: "The rep approach introduces the HCP to alternative PrEP opti..."
âœ… objection_handling: "The rep approach anticipates potential concerns about renal ..."
âœ… confidence: "The rep approach conveys confidence in the recommended PrEP ..."
âœ… active_listening: "The rep approach responds to the HCP's uncertainty and provi..."
âœ… adaptability: "The rep approach considers individual patient needs and alte..."
âœ… action_insight: "The rep approach provides actionable guidance for the HCP...."
âœ… resilience: "The rep approach persists in addressing the HCP's uncertaint..."

Rationale coverage: 10/10

ğŸ“‹ OTHER COACH FIELDS:
worked: missing
improve: missing
phrasing: missing

================================================================================
âœ… TEST 1 PASSED
   - All 10 canonical metrics present
   - No invalid metrics (e.g., "accuracy")
   - Correct path (coach.scores, not coach.ei.scores)
   - 10 rationales provided
================================================================================


ğŸ§ª RUNNING TEST SET 2 (Role Play)

================================================================================
TEST 2: Role Play - Difficult HCP, HIV
================================================================================

ğŸ“¤ REQUEST:
Mode: role-play
Message: I appreciate you taking the time to meet with me today. I wanted to discuss how Descovy for PrEP mig...

ğŸ“¥ RESPONSE (570ms):
Reply length: 44 chars

ğŸ” COACH OBJECT STRUCTURE:
âœ… coach object exists
âœ… No incorrect .ei nesting
âœ… .scores object exists at correct path

ğŸ“Š SCORES VALIDATION:
âœ… empathy: 3/5
âœ… clarity: 4/5
âœ… compliance: 4/5
âœ… discovery: 4/5
âœ… objection_handling: 3/5
âœ… confidence: 4/5
âœ… active_listening: 3/5
âœ… adaptability: 3/5
âœ… action_insight: 3/5
âœ… resilience: 3/5

ğŸ“ RATIONALES:

Rationale coverage: 0/10

ğŸ“‹ OTHER COACH FIELDS:
worked: 1 items
improve: 1 items
phrasing: "Would confirming eGFR today help you identify one ..."

================================================================================
âœ… TEST 2 PASSED
   - All 10 canonical metrics present
   - No invalid metrics (e.g., "accuracy")
   - Correct path (coach.scores, not coach.ei.scores)
   - 0 rationales provided
================================================================================


ğŸ§ª RUNNING FINAL TEST (Emotional Assessment)

================================================================================
TEST 3: Emotional Assessment - Self-reflection
================================================================================

ğŸ“¤ REQUEST:
Mode: emotional-assessment
Message: Tell me about a recent challenging interaction with an HCP where you felt frustrated....

ğŸ“¥ RESPONSE (1001ms):
Reply length: 1149 chars

ğŸ” COACH OBJECT STRUCTURE:
âœ… coach object exists
âœ… No incorrect .ei nesting
âœ… .scores object exists at correct path

ğŸ“Š SCORES VALIDATION:
âœ… empathy: 3/5
âœ… clarity: 4/5
âœ… compliance: 4/5
âœ… discovery: 4/5
âœ… objection_handling: 3/5
âœ… confidence: 4/5
âœ… active_listening: 3/5
âœ… adaptability: 3/5
âœ… action_insight: 3/5
âœ… resilience: 3/5

ğŸ“ RATIONALES:

Rationale coverage: 0/10

ğŸ“‹ OTHER COACH FIELDS:
worked: 1 items
improve: 1 items
phrasing: "Would confirming eGFR today help you identify one ..."

================================================================================
âœ… TEST 3 PASSED
   - All 10 canonical metrics present
   - No invalid metrics (e.g., "accuracy")
   - Correct path (coach.scores, not coach.ei.scores)
   - 0 rationales provided
================================================================================


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           FINAL TEST RESULTS                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TEST 1: Sales Coach - HIV PrEP discussion
  Status: âœ… PASSED
  Response time: 1746ms
  Metrics count: 10/10
  Missing: 0
  Invalid: 0
  Has .ei nesting: NO (GOOD)
  Rationales: 10/10

TEST 2: Role Play - Difficult HCP, HIV
  Status: âœ… PASSED
  Response time: 570ms
  Metrics count: 10/10
  Missing: 0
  Invalid: 0
  Has .ei nesting: NO (GOOD)
  Rationales: 0/10

TEST 3: Emotional Assessment - Self-reflection
  Status: âœ… PASSED
  Response time: 1001ms
  Metrics count: 10/10
  Missing: 0
  Invalid: 0
  Has .ei nesting: NO (GOOD)
  Rationales: 0/10

================================================================================
SUMMARY: 3/3 tests passed
================================================================================


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âœ… ALL TESTS PASSED - PHASE 2 FIXES CONFIRMED WORKING                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


âœ… Test suite completed

ğŸ“„ Results saved to: EI_SCORING_TEST_RESULTS.json

