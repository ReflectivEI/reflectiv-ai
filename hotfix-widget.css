/* ===== ReflectivAI Coach â€” layout + typography hotfix (2025-10-20-4) ===== */

.reflectiv-chat,
#reflectiv-widget .reflectiv-chat {
  --navy:#0f2236; --navy-2:#17314e; --slab:#f6f8fb; --stroke:#d8e0ea;
  --text:#0f1522; --muted:#6b7a90;
  font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--text); background:#fff; border:1px solid var(--stroke);
  border-radius:14px; box-shadow:0 20px 40px rgba(12,24,40,.18);
  width:min(1120px,96vw); max-height:78vh; overflow:hidden;
}

/* Title bars */
.reflectiv-chat .coach-titlebar{display:flex;align-items:center;justify-content:space-between;
  padding:10px 14px;background:var(--navy-2);color:#fff;font-weight:800;font-size:15px}
.reflectiv-chat .coach-subbar{padding:8px 14px;background:#eaf1f9;color:#0b1d2f;
  border-bottom:1px solid #d5deea;font-weight:800;font-size:13px}
.reflectiv-chat .close-btn{appearance:none;border:0;background:#0b1d2f;color:#fff;
  padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:700}

/* 3-col grid: Controls | Chat | Metrics */
.reflectiv-chat .coach-body{
  display:grid; grid-template-columns:300px 1fr 220px; gap:14px; padding:14px; background:var(--slab);
}

/* Left controls */
.reflectiv-chat .controls-slab{background:#fff;border:1px solid var(--stroke);border-radius:12px;
  padding:12px;display:flex;flex-direction:column;gap:12px}
.reflectiv-chat .controls-slab .label{font-size:12px;font-weight:800;color:var(--muted);margin-bottom:4px}
.reflectiv-chat select{width:100%;height:40px;padding:0 10px;border-radius:10px;border:1px solid #cfd8e3;font-size:14px}

/* Center chat slab */
.reflectiv-chat .chat-slab{background:#fff;border:1px solid var(--stroke);border-radius:12px;display:flex;flex-direction:column}
.reflectiv-chat .brief{
  padding:12px;border-bottom:1px solid var(--stroke);background:#fbfdff
}
.reflectiv-chat .brief .row{margin:6px 0}
.reflectiv-chat .brief .row strong{font-weight:900;color:#0b1d2f}
.reflectiv-chat .transcript{flex:1;overflow:auto;padding:12px;min-height:320px}
.reflectiv-chat .bubble{max-width:78%;padding:10px 12px;border-radius:12px;margin:8px 0}
.reflectiv-chat .bubble.user{background:#0f2236;color:#fff;margin-left:auto}
.reflectiv-chat .bubble.bot{background:#eaf2ff;color:#0b1323}
.reflectiv-chat .coach-panel{margin:8px 0 0 0;padding:10px 12px;border-left:3px solid #0f2236;background:#f5f9ff;border-radius:8px}
.reflectiv-chat .coach-panel h6{margin:0 0 6px 0;font-size:12px;font-weight:900;color:#0f2236;letter-spacing:.02em}
.reflectiv-chat .coach-panel ul{margin:0;padding-left:18px}
.reflectiv-chat .coach-panel li{font-size:13px;margin:2px 0}

.reflectiv-chat .composer{display:flex;gap:10px;border-top:1px solid var(--stroke);padding:10px;align-items:center}
.reflectiv-chat textarea{height:44px;resize:none;flex:1;padding:10px 12px;border:1px solid #cfd8e3;border-radius:10px;font-size:14px}
.reflectiv-chat .send-btn{height:44px;min-width:72px;padding:0 14px;border-radius:10px;background:var(--navy);color:#fff;border:0;cursor:pointer;font-weight:800}

/* Right metrics (narrowed) */
.reflectiv-chat .metrics-slab{background:#fff;border:1px solid var(--stroke);border-radius:12px;
  padding:10px;display:flex;flex-direction:column;gap:8px}
.reflectiv-chat .metric{border:1px solid #e5ecf4;border-radius:12px;padding:10px;background:#fbfdff}
.reflectiv-chat .metric h5{margin:0 0 4px 0;font-size:12px;font-weight:900;color:var(--navy)}
.reflectiv-chat .metric .value{font-family:ui-monospace,Menlo,Consolas,monospace;font-size:13px;color:#111827}

/* Mobile */
@media (max-width: 960px){
  .reflectiv-chat .coach-body{grid-template-columns:1fr}
  .reflectiv-chat .metrics-slab{order:3}
  .reflectiv-chat .controls-slab{order:1}
  .reflectiv-chat .chat-slab{order:2}
}
