/* ===== /assets/chat/widget.css — ReflectivAI Coach (matches site) ===== */

/* Overlay + modal placement */
.coach-open #coachOverlay{display:block}
#coachOverlay{position:fixed;inset:0;background:rgba(3,15,24,.52);backdrop-filter:saturate(120%) blur(2px);z-index:9997;display:none}
#coachModal{position:fixed;inset:auto 50% 8vh;transform:translateX(-50%);width:min(920px,92vw);background:#fff;border:1px solid #e5e9f0;border-radius:14px;box-shadow:0 18px 42px rgba(5,20,30,.28);z-index:9998;overflow:hidden}

/* Header */
.coach-head{display:flex;align-items:center;justify-content:space-between;background:#0b2633;color:#fff;padding:12px 14px}
.coach-title{font-weight:800}
.head-actions{display:flex;align-items:center;gap:12px}
.rubric-link{color:#cfe7f3;text-decoration:underline}
.coach-close{appearance:none;border:0;background:transparent;color:#fff;font-size:22px;line-height:1;cursor:pointer;padding:4px 8px}

/* Body */
.coach-body{padding:12px 12px 14px;background:#fbfdff}

/* Toolbar */
.toolbar{background:#f6f8fb;border:1px solid #e1e6ef;border-radius:10px;padding:10px}
.grid{display:grid;grid-template-columns:220px 1fr 220px 1fr;gap:12px 16px;align-items:end}
.grid label{font-size:12px;font-weight:700;color:#2f3a4f}
.grid select{height:38px;border:1px solid #cfd6df;border-radius:8px;padding:6px 10px;font-size:14px;background:#fff;color:#0f1522}
.info::after{content:" ⓘ";color:#60788a;font-weight:800}
.hidden{display:none!important}
@media (max-width:900px){.grid{grid-template-columns:1fr;gap:8px}}

/* Scenario meta */
.scenario-meta{margin:10px 0 8px}
.scenario-meta .meta-card{padding:10px 12px;background:#f7f9fc;border:1px solid #e1e6ef;border-radius:10px;font-size:13px}

/* Chat area */
.chat-area{}
.chat-messages{min-height:240px;height:320px;max-height:50vh;overflow:auto;padding:12px 14px;background:#fafbfd;border:1px solid #e1e6ef;border-radius:10px}
.message{margin:8px 0;display:flex}
.message .content{max-width:85%;line-height:1.45;font-size:14px;padding:10px 12px;border-radius:14px;border:1px solid #d6dbe3;color:#0f1522;background:#e9edf3}
.message.user{justify-content:flex-end}
.message.user .content{background:#e0e0e0;color:#000}

/* Input row */
.chat-input{display:flex;gap:8px;padding:10px 0}
.chat-input textarea{flex:1;resize:none;min-height:46px;max-height:120px;padding:10px 12px;border:1px solid #cfd6df;border-radius:10px;outline:none;font:14px Inter,system-ui}
.chat-input .btn{min-width:86px;border:0;border-radius:999px;background:#153445;color:#fff;font-weight:700}
.chat-input .btn:hover{background:#0f2835}

/* Coach panel (always visible under input) */
.coach-section{margin-top:8px;padding:12px 14px;border:1px solid #e1e6ef;border-radius:12px;background:#fffbe8}
.coach-section h3{margin:0 0 6px;font-size:15px;color:#2f3a4f}
.coach-score{margin-bottom:6px;font-weight:800}
.coach-subs .pill{display:inline-block;background:#f1f3f7;border:1px solid #d6dbe3;border-radius:999px;padding:2px 8px;margin-right:6px;font-size:12px}
.coach-list{padding-left:18px;font-size:13px}
.coach-list li{margin:4px 0}

/* Rubric drawer */
.rubric{position:fixed;inset:auto 50% 10vh;transform:translateX(-50%);width:min(560px,92vw);background:#fff;border:1px solid #e5e9f0;border-radius:12px;box-shadow:0 18px 42px rgba(5,20,30,.28);padding:12px;z-index:9999}
.rubric.hidden{display:none}
.rubric h4{margin:2px 0 8px;font-weight:800;color:#243646}
.rubric ul{margin:0;padding-left:18px;color:#334155}
.rubric-close{position:absolute;right:8px;top:6px;border:0;background:transparent;font-size:22px;cursor:pointer}

/* Ensure no overlap with Alora bubble (bottom-right ~84px) */
@media (max-width:520px){
  #coachModal{bottom:96px}
}

/* Accessibility helpers */
.muted{color:#5b6b79}
